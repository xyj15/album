<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>首页</title>

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">


    <![endif]-->
    <link href="\stylesheets\navbar.css" rel="stylesheet" type="text/css" >
    <link href="\stylesheets\album.css" rel="stylesheet" type="text/css" >
    <script type="text/javascript" src="\javascripts\jquery.js"></script>
    <script type="text/javascript" src="\javascripts\bootstrap.min.js"></script>


</head>


<nav class="navbar navbar-fixed-top navbar-inverse navbar-default">
    <div class="container">
        <div class="navbar-header">


            <img src="\images\logo.png" style="width: 60px">
            <a class="navbar-brand" >iPHOTO</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse ">
            <ul class="nav navbar-nav navbar-right">
                <li class="active"><a href="javascript:void(0)" onclick="home()">Home</a></li>
                <li ><a href="javascript:void(0)" onclick="hot()">Hot</a></li>
                <li ><a href="javascript:void(0)" onclick="">Activity</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        My
                        <b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="javascript:void(0)" onclick="friend()">Friend</a></li>
                        <li><a href="javascript:void(0)" onclick="album()">Album</a></li>
                        <li><a href="javascript:void(0)" onclick="">Activity</a></li>
                    </ul>
                </li>
                <form class="navbar-form navbar-right" role="search">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search">
                    </div>

                    </li>

                </form>


            </ul>

        </div><!-- /.nav-collapse -->
    </div><!-- /.container -->
</nav><!-- /.navbar -->

<br>
<br>



<div id="myCarousel" class="carousel slide">
    <!-- 轮播（Carousel）指标 -->
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>
    <!-- 轮播（Carousel）项目 -->
    <div class="carousel-inner">
        <div class="item active">
            <img src="\images\slide1.jpg" alt="First slide">
        </div>
        <div class="item">
            <img src="\images\slide1.jpg" alt="Second slide">
        </div>
        <div class="item">
            <img src="\images\slide1.jpg" alt="Third slide">
        </div>
    </div>


</div>


<img id="test" src="\images\2.jpg" style=" table-layout: fixed;width: 100%; margin-top: 10px;">


<div id="content">
<img src="\images\1.jpg" style=" table-layout: fixed;width: 100%; margin-top: 10px;">

<table style="margin-top: 5px;margin-bottom: 10px">
    <tr>
        <th><button style='margin-left: 5px'><span class="glyphicon glyphicon-heart"></span>1940</button></th>
        <th style="width: 43%"></th>
        <th> <img src="\images\logo.png" style="width: 60px;align:center" class="img-circle"></th>
        <th style="width: 1%"></th>
        <th> <p>juaner</p></th>
        <th style="width: 43%"></th>
        <th><button style="float:right">Download</button></th>
    </tr>
</table>
</div>



<div  align="center" style="margin-top: 40px"><img src="\images\logo.png" style="width: 60px">
    <p>Make something awesome</p></div>



</div><!--/.container-->



<script type="text/javascript">
    function hot() {
        location.href = "/hot?name="+getQueryString("name");
    }
    function friend() {
        location.href = "/friend?name="+getQueryString("name");
    }
    function album() {
        location.href = "/album?name="+getQueryString("name");
    }
    function home() {
        location.href = "/home?name="+getQueryString("name");
    }
    $.ajax({
        type: 'POST',
        url: '/home/photo',
        async: false,
        dataType: "json",
        success: function(data) {

            document.getElementById("test").src="data:image/jpeg;bass64"+data.photo;
        } // 注意不要在此行增加逗号
    });
    $(document).ready(function(){
        var range = 50;             //距下边界长度/单位px
        var elemt = 50;           //插入元素高度/单位px
        var maxnum = 2000;            //设置加载最多次数
        var num = 1;
        var totalheight = 0;
        var main = $("#content");
        var src="\\images\\1.jpg";
        num++;
        //主体元素
        $(window).scroll(function(){
            var srollPos = $(window).scrollTop();    //滚动条距顶部距离(页面超出窗口的高度)
            totalheight = parseFloat($(window).height()) + parseFloat(srollPos);
            if(($(document).height()-range) <= totalheight  && num != maxnum) {
                main.append("<img src=\"\\images\\1.jpg\" style=\" table-layout: fixed;width: 100%; margin-top: 10px;\">\n" +
                    "\n" +
                    "<table style=\"margin-top: 5px;margin-bottom: 10px\">\n" +
                    "    <tr>\n" +
                    "        <th><button style='margin-left: 5px'><span class=\"glyphicon glyphicon-heart\"></span>1940</button></th>\n" +
                    "        <th style=\"width: 43%\"></th>\n" +
                    "        <th> <img src=\"\\images\\logo.png\" style=\"width: 60px;align:center\" class=\"img-circle\"></th>\n" +
                    "        <th style=\"width: 1%\"></th>\n" +
                    "        <th> <p>juaner</p></th>\n" +
                    "        <th style=\"width: 43%\"></th>\n" +
                    "        <th><button style=\"float:right\">Download</button></th>\n" +
                    "    </tr>\n" +
                    "</table>");
                num++;
            }
        });
    });

    function getQueryString(name)
    {
        var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
        var r = window.location.search.substr(1).match(reg);
        if(r!=null)return  unescape(r[2]); return null;
    }
</script>
</body>
</html>
